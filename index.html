// index.html ke script section mein ise dalo
async function fetchServices() {
    const select = document.getElementById('smsSvc');
    const country = document.getElementById('countrySelect').value;
    const BACKEND = "https://dg-otp-backend.onrender.com"; //

    select.innerHTML = "<option>üîç Loading Services...</option>";
    
    try {
        const url = BACKEND + "/get-all-services?country=" + country;
        console.log("Connecting to:", url);
        
        const res = await fetch(url);
        if (!res.ok) throw new Error("Backend connection failed");
        
        const data = await res.json();
        console.log("Services received:", data);

        if (data && data.length > 0) {
            let options = "";
            data.forEach(service => {
                // Sahi format mein service ID aur Rate load karna
                options += '<option value="' + service.id + '" data-rate="' + service.rate + '">' + 
                           service.name + ' - ‚Çπ' + service.rate + '</option>';
            });
            select.innerHTML = options;
        } else {
            select.innerHTML = "<option>No Services for this country</option>";
        }
    } catch (e) {
        console.error("Fetch Error:", e);
        select.innerHTML = "<option>‚ö†Ô∏è Server Connection Error</option>";
    }
}
